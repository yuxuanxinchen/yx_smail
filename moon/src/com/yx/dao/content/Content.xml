<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yx.dao.content.IContentMapper">

	<select id="findContents" resultType="com.yx.entity.Content"
		parameterType="com.yx.entity.YParams">
		SELECT
		id,
		title,
		content,
		create_time as createTime,
		update_time as updateTime,
		user_id as userId,
		tag,
		is_top as isTop,
		is_delete as isDelete,
		status,
		channel_id as channelId,
		img,
		push,
		is_comment as isComment,
		hits,
		loves,
		collections,
		static_link as staticLink,
		keywords,
		description,
		sub_title,
		type,
		category_id as categoryId,
		is_code as isCode,
		js_code as jsCOde,
		html_code as htmlCode,
		css_code as cssCode,
		width,
		height,
		thumnail,
		price,
		num
		FROM yx_content
		<trim prefix="WHERE" prefixOverrides="AND | OR">
		     <if test="@com.yx.utils.TmStringUtils@isNotEmpty(channelId)">
		         channel_id = #{channelId}
		     </if>
		        <if test="@com.yx.utils.TmStringUtils@isNotEmpty(keyword)">
		           title LIKE '%${keyword}%'
		     </if>
		</trim>
		order by ${order}
		     LIMIT #{pageNo} ,#{pageSize}
	</select>
	
	
	<select id="countContents" resultType="int"
		parameterType="com.yx.entity.YParams">
		SELECT count(1) FROM yx_content
		<trim prefix="WHERE" prefixOverrides="AND | OR">
		     <if test="@com.yx.utils.TmStringUtils@isNotEmpty(channelId)">
		         channel_id = #{channelId}
		     </if>
		        <if test="@com.yx.utils.TmStringUtils@isNotEmpty(keyword)">
		           title LIKE '%${keyword}%'
		     </if>
		</trim>
	</select>
	
</mapper>
